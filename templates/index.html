<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Agriguard SmartDetect - Pest Detection System</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
  </head>
  <body>
    <div class="container">
      <div class="header-section">
        <div class="brand">
          <h1 class="brand-title">ğŸŒ¾ Agriguard SmartDetect</h1>
          <p class="subtitle">AI-Powered Pest Detection for Better Crop Protection</p>
        </div>
      </div>
      <div class="introduction">
        <p>Upload a photo or use live camera feed for real-time pest detection and management suggestions.</p>
      </div>
      <!-- live and photo detection sections separated -->

      <div class="live-section card" id="liveSection">
        <h2>ğŸ“· Live Camera</h2>
        <div class="video-box">
          <img id="liveStream" src="/video_feed" alt="Live stream" />
        </div>
        <div class="controls">
          <button id="toggleStream">Pause Stream</button>
          <span id="streamType" class="meta">MJPEG</span>
        </div>
        <div class="live-info card">
          <h3>Detections & Suggestions</h3>
          <div id="detList" class="meta">No detections yet.</div>
          <div class="meta"><strong>Suggested:</strong> <span id="suggestion">â€”</span></div>
          <div id="detTime" class="meta">Updated: â€”</div>
        </div>
      </div>

      <div class="photo-section card" id="photoSection">
        <h2>ğŸ–¼ï¸ Photo Detection</h2>
        <div class="upload-section">
          <input type="file" id="imageInput" accept="image/*" />
          <label for="imageInput" class="file-label">ğŸ“ Choose Image</label>
          <button id="uploadBtn" disabled>Detect Photo</button>
        </div>
        <div id="resultsArea" class="results-container hidden">
          <div class="image-box">
            <h4>Original Image</h4>
            <img id="originalImage" src="" alt="Original Upload" />
          </div>
          <div class="image-box">
            <h4>Detection Result</h4>
            <img id="resultImage" src="" alt="Detection Result" />
            <p class="meta" id="resultInfo"></p>
          </div>
        </div>
      </div>
    </div>


    <script src="{{ url_for('static', filename='script.js') }}"></script>
  </body>
</html>
